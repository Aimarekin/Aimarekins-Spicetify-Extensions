var copyDlyrics=(()=>{var p={en:"Copied to clipboard!",es:"¡Copiado al portapapeles!",ar:"تم النسخ إلى الحافظة!",zh:"已复制到剪贴板！",fr:"Copié dans le presse-papiers !",de:"In die Zwischenablage kopiert!",hi:"क्लिपबोर्ड पर कॉपी किया गया!",it:"Copiato negli appunti!",ja:"クリップボードにコピーされました！",ko:"클립보드에 복사되었습니다!",pt:"Copiado para a área de transferência!",ru:"Скопировано в буфер обмена!",tr:"Panoya kopyalandı!",nl:"Gekopieerd naar het klembord!",sv:"Kopierat till urklipp!",pl:"Skopiowane do schowka!",no:"Kopiert til utklippstavle!",fi:"Kopioitu leikepöydälle!",da:"Kopieret til udklipsholderen!",cs:"Zkopírováno do schránky!",hu:"Vágólapra másolva!",ro:"Copiat în clipboard!",uk:"Скопійовано в буфер обміну!"};var e=async function(){for(;!(null!=Spicetify&&Spicetify.Platform&&null!=Spicetify&&Spicetify.URI&&null!=Spicetify&&Spicetify.showNotification&&null!=Spicetify&&Spicetify.Locale);)await new Promise(e=>setTimeout(e,100));function i(){var e,t,o;return document.querySelector(".lyrics-lyrics-container")&&(t=window.getSelection())&&!(t.rangeCount<1)&&(e=t.toString().trim(),t=t.getRangeAt(0),e)&&(o=document.querySelector(".os-content:has(.lyrics-lyrics-container)"))&&o.contains(t.commonAncestorContainer)?e:null}let n=!1,s=!1;const t=e=>e.stopPropagation();document.addEventListener("selectionchange",()=>{var e;i()?n||(console.log("Selection begun"),n=!0,s=!0,(e=document.querySelector(".lyrics-lyrics-container")).classList.add("copy-lyrics-selecting"),e.classList.remove("copy-lyrics-deselection-animation"),e.addEventListener("click",t,{capture:!0}),a++):(n=!1,null!=(e=document.querySelector(".lyrics-lyrics-container"))&&e.removeEventListener("click",t,{capture:!0}))});let a=0;function c(){if(console.log("Attempting a copy...",s),s){console.log("PASSED 1");const t=document.querySelector(".lyrics-lyrics-container");if(t){console.log("PASSED 2");var e=i();if(e){console.log("PASSED 3"),Spicetify.Platform.ClipboardAPI.copy(e),s=!1,Spicetify.showNotification(p[Spicetify.Locale._locale]||p.en),t.classList.add("copy-lyrics-deselection-animation"),null!=(e=document.querySelector(".lyrics-lyrics-container"))&&e.classList.remove("copy-lyrics-selecting");const o=[255,255,0,1],n=[255,255,255,0],c=performance.now(),r=++a,l=()=>{if(r!=a)console.log("Animation cancelled");else{const i=(performance.now()-c)/500;let e;1<=i?e=n:(e=o.map((e,t)=>{return e=e,t=n[t],o=i,e*(1-o)+t*o;var o}),requestAnimationFrame(l)),t.style.setProperty("--copy-lyrics-selection-color",`rgba(${e.join(", ")})`)}};requestAnimationFrame(l)}}}}window.addEventListener("mouseup",c),document.addEventListener("keyup",e=>{var t,o;e.ctrlKey&&"KeyA"==e.code&&(t=document.querySelector(".lyrics-lyrics-contentContainer"))&&(o=window.getSelection())&&(e.preventDefault(),o.empty(),o.selectAllChildren(t),n=!0,s=!0,c())})};(async()=>{await e()})()})();(async()=>{var e;document.getElementById("copyDlyrics")||((e=document.createElement("style")).id="copyDlyrics",e.textContent=String.raw`
  .os-content:has(.lyrics-lyrics-container){-webkit-user-select:text!important;-moz-user-select:text!important;user-select:text!important}.lyrics-lyrics-contentContainer{-webkit-user-select:text!important;-moz-user-select:text!important;user-select:text!important}.lyrics-lyricsContent-description{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}.lyrics-lyricsContent-provider{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}.copy-lyrics-deselection-animation .lyrics-lyricsContent-lyric::-moz-selection{background:var(--copy-lyrics-selection-color)!important}.copy-lyrics-deselection-animation .lyrics-lyricsContent-lyric::selection{background:var(--copy-lyrics-selection-color)!important}.copy-lyrics-selecting .lyrics-lyricsContent-lyric{cursor:text!important}
      `.trim(),document.head.appendChild(e))})();