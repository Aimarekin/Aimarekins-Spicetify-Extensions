var copyDlyrics=(()=>{var m={en:"Copied to clipboard!",es:"¡Copiado al portapapeles!",ar:"تم النسخ إلى الحافظة!",zh:"已复制到剪贴板！",fr:"Copié dans le presse-papiers !",de:"In die Zwischenablage kopiert!",hi:"क्लिपबोर्ड पर कॉपी किया गया!",it:"Copiato negli appunti!",ja:"クリップボードにコピーされました！",ko:"클립보드에 복사되었습니다!",pt:"Copiado para a área de transferência!",ru:"Скопировано в буфер обмена!",tr:"Panoya kopyalandı!",nl:"Gekopieerd naar het klembord!",sv:"Kopierat till urklipp!",pl:"Skopiowane do schowka!",no:"Kopiert til utklippstavle!",fi:"Kopioitu leikepöydälle!",da:"Kopieret til udklipsholderen!",cs:"Zkopírováno do schránky!",hu:"Vágólapra másolva!",ro:"Copiat în clipboard!",uk:"Скопійовано в буфер обміну!"};var f=".lyrics-lyrics-container, .main-nowPlayingView-lyricsContent";var e=async function(){for(;!(null!=Spicetify&&Spicetify.Platform&&null!=Spicetify&&Spicetify.URI&&null!=Spicetify&&Spicetify.showNotification&&null!=Spicetify&&Spicetify.Locale);)await new Promise(e=>setTimeout(e,100));var n,e,r,t,i=document.createElement("style");i.innerHTML=".lyrics-lyricsContent-lyric::highlight(copy-lyrics-deselection-highlight){background-color:#000}",document.head.appendChild(i);const s=i.sheet.cssRules[0];function a(){var e,t,i;return document.querySelector(f)&&(e=window.getSelection())&&!(e.rangeCount<1)&&(t=e.toString().trim())&&(i=document.querySelector(".os-content:has(.lyrics-lyrics-container), .main-nowPlayingView-lyricsContent"))&&i.contains(e.getRangeAt(0).commonAncestorContainer)?t:null}let o=!1,y=!1;const c=e=>e.stopPropagation();document.addEventListener("selectionchange",()=>{if(a()){if(o)return;o=!0,y=!0}else{if(!o)return;o=!1}document.querySelectorAll(f).forEach(e=>{o?(e.classList.add("copy-lyrics-selecting"),CSS.highlights.delete("copy-lyrics-deselection-highlight"),p++,e.addEventListener("click",c,{capture:!0})):(e.removeEventListener("click",c,{capture:!0}),e.classList.remove("copy-lyrics-selecting"))})});let p=0;function l(){if(y){var e=a();if(e){Spicetify.Platform.ClipboardAPI.copy(e),y=!1,Spicetify.showNotification(m[Spicetify.Locale.getLocale()]||m.en);var e=window.getSelection(),t=new Highlight(e.getRangeAt(0));CSS.highlights.set("copy-lyrics-deselection-highlight",t),e.empty();const i=[255,255,0,.7],o=[255,255,255,0],r=performance.now(),c=++p,l=()=>{if(c==p){const n=(performance.now()-r)/500;let e;1<=n?e=o:(e=i.map((e,t)=>{return e=e,t=o[t],i=n,e*(1-i)+t*i;var i}),requestAnimationFrame(l)),s.style.backgroundColor=`rgba(${e.join(", ")})`}};requestAnimationFrame(l)}}}function d(){var e,t=window.getSelection();t&&(e=document.querySelector(f))&&(t.empty(),t.selectAllChildren(e),o=!0,y=!0,l())}function u(o){e(o),r&&new MutationObserver((e,t)=>{for(const i of e)for(const n of i.removedNodes)if(n===o)return t.disconnect(),void r(o)}).observe(o.parentNode,{childList:!0})}window.addEventListener("mouseup",l),document.addEventListener("keyup",e=>{e.ctrlKey&&"KeyA"==e.code&&document.querySelector(".lyrics-lyrics-contentContainer")&&(e.preventDefault(),d())}),n=".lyrics-lyricsContent-lyric",i=void 0,e=e=>e.addEventListener("contextmenu",e=>{e.preventDefault(),d()}),i=document.body,(t=i.querySelector(n))&&u(t),new MutationObserver(e=>{for(const t of e)for(const i of t.addedNodes)i instanceof HTMLElement&&i.querySelectorAll(n).forEach(u)}).observe(i,{childList:!0,subtree:!0})};(async()=>{await e()})()})();(async()=>{var e;document.getElementById("copyDlyrics")||((e=document.createElement("style")).id="copyDlyrics",e.textContent=String.raw`
  .lyrics-lyrics-contentContainer:has(.lyrics-lyricsContent-lyric),.lyrics-lyricsContent-lyric,.main-nowPlayingView-lyricsContent,.os-content:has(.lyrics-lyrics-container .lyrics-lyricsContent-lyric){-webkit-user-select:text!important;-moz-user-select:text!important;user-select:text!important}.lyrics-lyricsContent-description,.lyrics-lyricsContent-provider{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}.copy-lyrics-selecting .lyrics-lyricsContent-lyric{cursor:text!important}
      `.trim(),document.head.appendChild(e))})();