var skipDafterDtimestamp=(()=>{var a=Object.defineProperty,u=Object.defineProperties,y=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,w=(e,t,i)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;function b(e,t,...i){if("function"==typeof e)return e(t,...i);const a=document.createElement(e);return Object.entries(t||{}).forEach(([e,t])=>{(e="className"===e?"class":e).startsWith("on")&&e.toLowerCase()in window?a.addEventListener(e.toLowerCase().substring(2),t):a.setAttribute(e,String(t))}),i.forEach(e=>{!function t(i,e){Array.isArray(e)?e.forEach(e=>t(i,e)):i.appendChild(e instanceof HTMLElement?e:document.createTextNode(e))}(a,e)}),a}var i="en",r={en:{skip_after_timestamp:"Skip after timestamp",will_skip_after_time:"Tracks will now be skipped after {0}",will_skip_after_percentage:"Tracks will now be skipped after {0} completed",disabled_auto_skip:"Disabled auto skip",will_not_skip_this:"This track will not be skipped",disabled_once:"Disabled for this playthrough once"},es:{skip_after_timestamp:"Reproducir siguiente después de",will_skip_after:"Las canciones terminarán depues de reproducirse después de {0} segundos",right_click_remove:"Haz click derecho para desactivar",disabled_once:"Desactivado para esta reproducción"}};function h(e,t){return t=t||Spicetify.Locale.getLocale(),r[t]?r[t][e]||e:h(e,i)}function S(e,t){e=e.clientX-t.getBoundingClientRect().left;return Math.min(Math.max(e/t.clientWidth,0),1)}String.prototype.formatUnicorn=String.prototype.formatUnicorn||function(){let t=this.toString();if(arguments.length){var i=typeof arguments[0];let e;var a="string"==i||"number"==i?Array.prototype.slice.call(arguments):arguments[0];for(e in a)t=t.replace(new RegExp("\\{"+e+"\\}","gi"),a[e])}return t};var e=async function(){for(;!(null!=Spicetify&&Spicetify.Player&&null!=Spicetify&&Spicetify.Locale&&null!=Spicetify&&Spicetify.showNotification&&null!=Spicetify&&Spicetify.SVGIcons);)await new Promise(e=>setTimeout(e,100));o=".playback-progressbar .progress-bar",n=document.body,p=!(s=5e3);const a=await new Promise((t,e)=>{let i;0<s&&(i=setTimeout(()=>{if(p)return e("Did not find element after timeout.");console.warn("waitForElm has waited for",s," for selector",o,"within",n,"but it has not yet been found.")},s));var a=n.querySelector(o);if(a)return t(a);const r=new MutationObserver(()=>{var e=n.querySelector(o);if(e)return r.disconnect(),clearTimeout(i),t(e)});r.observe(n,{childList:!0,subtree:!0})});var o,n,s,p;const r=b("div",{className:"skip-after-timestamp-marker"},b("div",{className:"skip-after-timestamp-container"},b("svg",null)));a.appendChild(r),r.addEventListener("click",e=>{0===e.button&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),l=!1,t=!1,Spicetify.showNotification(h("disabled_auto_skip")),r.classList.remove("skip-after-timestamp-active"))}),e=((e,t)=>{for(var i in t=t||{})v.call(t,i)&&w(e,i,t[i]);if(g)for(var i of g(t))k.call(t,i)&&w(e,i,t[i]);return e})({},Spicetify.TippyProps);var e=u(e,y({delay:0,content:"..."}));const c=Spicetify.Tippy(r,e);let l=!1,t=!1,d=0;function m(e){r.style.left=100*(e-.005)+"%"}a.addEventListener("mousedown",e=>{if(2===e.button){l=!1;const i=e=>m(S(e,a));r.classList.add("skip-after-timestamp-dragging"),i(e),window.addEventListener("mousemove",i),window.addEventListener("mouseup",function e(t){2===t.button&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),window.removeEventListener("mousemove",i),window.removeEventListener("mouseup",e),r.classList.remove("skip-after-timestamp-dragging"),r.classList.add("skip-after-timestamp-active"),l=!0,m(t=S(t,a)),d=Spicetify.Player.getDuration()*t,t=Math.floor(d/6e4)+":"+Math.floor(d%6e4/1e3).toString().padStart(2,"0"),Spicetify.showNotification(h("will_skip_after_time").formatUnicorn(t)),c.setContent(t))})}});let i=void 0,f=!1;Spicetify.Player.addEventListener("onprogress",()=>{Spicetify.Player.data.playback_id!==i&&(i=Spicetify.Player.data.playback_id,t=!1,f=!1,m(d/Spicetify.Player.getDuration())),f||l&&!t&&Spicetify.Player.getProgress()>=d&&(console.log("Should skip!"),Spicetify.Player.isPlaying()?(f=!0,Spicetify.Player.next()):t=!0)}),console.log("Loaded skip-after-timestamp")};(async()=>{await e()})()})();(async()=>{var e;document.getElementById("skipDafterDtimestamp")||((e=document.createElement("style")).id="skipDafterDtimestamp",e.textContent=String.raw`
  .skip-after-timestamp-marker{position:absolute;height:20px;top:50%;transform:translateY(-50%);z-index:1;overflow:visible}.skip-after-timestamp-marker:not(.skip-after-timestamp-active):not(.skip-after-timestamp-dragging){display:none}.skip-after-timestamp-marker:not(.skip-after-timestamp-dragging){transition:left .2s ease-in-out}.skip-after-timestamp-container{--timestamp-color:var(--spice-notification);background-color:var(--timestamp-color);filter:drop-shadow(0 0 6px var(--spice-shadow));width:20px;height:100%}.skip-after-timestamp-container::after{content:"";width:0;height:0;border-top:100% solid transparent;border-bottom:100% solid transparent;border-left:100% solid var(--timestamp-color)}
      `.trim(),document.head.appendChild(e))})();