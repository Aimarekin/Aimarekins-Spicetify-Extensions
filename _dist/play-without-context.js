"use strict";(()=>{async function w(t){return Array.isArray(t)?(await Promise.all(t.map(e=>e()))).every(Boolean):!!await Promise.resolve(t())}function u(t,e=1e3,r=-1,o){return new Promise((i,p)=>{let y;if(o){if(o.aborted){p(new DOMException("Aborted","AbortError"));return}o.addEventListener("abort",()=>{y&&clearTimeout(y),p(new DOMException("Aborted","AbortError"))})}let S=Date.now();function m(){w(t).catch(f=>(console.error(f),!1)).then(f=>{f&&i()}).finally(R)}function R(){o?.aborted||(r===0||r>0&&Date.now()-S>r?p(new Error("Timeout")):y=setTimeout(m,r>0?Math.min(e,r-(Date.now()-S)):e))}m()})}function a(t){if(t instanceof Spicetify.URI)return t;let e=Spicetify.URI.from(t);if(!e)throw new Error("Invalid URI");return e}function n(t,e){let r=a(t),o=Array.isArray(e)?e:[e];if(!o.includes(r.type))throw new Error(`Expected URI type to be one of ${o.join(", ")} but got ${r.type}`);return r}var A="spotify:internal:local-files",l=["track","episode","local"];function s(t){let e=n(t,l);return e.type===Spicetify.URI.Type.LOCAL?Spicetify.Player.origin.play({uri:A,pages:[{items:[{uri:t}]}]},{},{}):Spicetify.Player.playUri(e.toString())}var T={interactionId:null};function I(t){let r=t.map(i=>a(i)).map(i=>({uri:i.toString(),uid:null})),o=Spicetify.Player.origin.getQueue().queued[0];return o?Spicetify.Player.origin.insertIntoQueue(r,{before:{uri:o.uri,uid:o.uid}},T):Spicetify.Player.origin.addToQueue(r,T)}function U(t,...e){try{return[!0,t(...e)]}catch(r){return[!1,r]}}var c={en:"Play without context",es:"Reproducir sin contexto",de:"Ohne Kontext abspielen",fr:"Lecture sans contexte",it:"Riproduci senza contesto",ja:"\u30B3\u30F3\u30C6\u30AD\u30B9\u30C8\u306A\u3057\u3067\u518D\u751F",ko:"\uCEE8\uD14D\uC2A4\uD2B8 \uC5C6\uC774 \uC7AC\uC0DD",nl:"Afspelen zonder context",pl:"Odtw\xF3rz bez kontekstu",pt:"Reproduzir sem contexto",ru:"\u0412\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u0431\u0435\u0437 \u043A\u043E\u043D\u0442\u0435\u043A\u0441\u0442\u0430",tr:"Ba\u011Flam olmadan oynat",zh:"\u65E0\u4E0A\u4E0B\u6587\u64AD\u653E"};var x="en";function d(t){return c[t]||c[t.split("-")[0]]||c[x]}u([()=>window.Spicetify,()=>Spicetify.ContextMenu,()=>Spicetify.Player,()=>Spicetify.Locale]).then(async()=>{new Spicetify.ContextMenu.Item(d(Spicetify.Locale.getLocale()),e=>{e.length>1?(s(e[0]),I(e.slice(1))):s(e[0])},e=>e.length>0&&e.every(r=>U(n,r,l)[0]),"play").register()});})();
